<div class="year-calendar">
  <div class="year-calendar__header">
    <div class="year-calendar__header__options">
      <button
        [disabled]="loadingData"
        *ngIf="!calendarOptions.viewsConfig?.year?.prevBtn?.hide"
        class="year-calendar__header__options__option {{calendarOptions.viewsConfig?.year?.prevBtn?.class}}"
        (click)="prevYearClick()">
        {{calendarOptions.viewsConfig?.year?.prevBtn?.text || 'Previous'}}
      </button>
      <button
        [disabled]="loadingData"
        *ngIf="!calendarOptions.viewsConfig?.year?.todayBtn?.hide"
        class="year-calendar__header__options__option {{calendarOptions.viewsConfig?.year?.todayBtn?.class}}"
        (click)="todayClick()">
        {{calendarOptions.viewsConfig?.year?.todayBtn?.text || 'Today'}}
      </button>
      <button
      [disabled]="loadingData"
        *ngIf="!calendarOptions.viewsConfig?.year?.nextBtn?.hide"
        class="year-calendar__header__options__option {{calendarOptions.viewsConfig?.year?.nextBtn?.class}}"
        (click)="nextYearClick()">
        {{calendarOptions.viewsConfig?.year?.nextBtn?.text || 'Next'}}
      </button>
    </div>
    <div class="year-calendar__header__year-name">
      {{ year }}
    </div>
    <div class="year-calendar__header__end-slot">
      <ng-content select=".header-end">
      </ng-content>
    </div>
  </div>
  <div class="year-calendar__body">
    <div
      [style.display]="!loadingData ? 'flex' : 'none'"
      class="year-calendar__body__month"
      *ngFor="let month of yearData; let mIndex = index;">
        <div class="year-calendar__body__month__inner">
          <div class="year-calendar__body__month__inner__title">
            {{month.date | date:'MMMM'}}
          </div>
          <div class="year-calendar__body__month__inner__week">
            <div class="year-calendar__body__month__inner__week__day {{yearViewConfig?.dayClass}} year-calendar__body__month__inner__week__number year-calendar__body__month__inner__week__day--label" *ngIf="yearViewConfig?.showWeekNumbers" [style.color]="yearViewConfig.weekNumbersColor">
              Week
            </div>
            <div class="year-calendar__body__month__inner__week__day  {{yearViewConfig?.dayClass}} year-calendar__body__month__inner__week__day--label" *ngFor="let dayLabel of daysOfWeek">
              {{dayLabel}}
            </div>
          </div>
          <div
            *ngFor="let week of month.weeks; let weekIndex = index;"
            class="year-calendar__body__month__inner__week">
            <div class="year-calendar__body__month__inner__week__day  {{yearViewConfig?.dayClass}} year-calendar__body__month__inner__week__number" *ngIf="yearViewConfig?.showWeekNumbers" [style.color]="yearViewConfig?.weekNumbersColor || 'black'">
              {{month.weekNumbers[weekIndex]}}
            </div>
            <div
              *ngFor="let day of week;"
              ycHeatmapColor
              [value]="day?.value"
              [maxValue]="calendarOptions.maxValue"
              [primaryColor]="calendarOptions.themeColors.primary"
              [secondaryColor]="calendarOptions.themeColors.secondary"
              [ngClass]="{'year-calendar__body__month__inner__week__day--today': (!!day && !!day.isToday), 'year-calendar__body__month__inner__week__day--has-value':  (!!day?.value)}"
              class="year-calendar__body__month__inner__week__day {{yearViewConfig?.dayClass}}"
              cdkOverlayOrigin
              #heatMapEventDayTrigger="cdkOverlayOrigin"
              (click)="eventDayCick(day, heatMapEventDayTrigger)">
              <div class="year-calendar__body__month__inner__week__day__text">
                {{day?.day}}
              </div>
            </div>
          </div>
        </div>
    </div>
    <div class="year-calendar__body__loader" [style.display]="!!loadingData ? 'flex' : 'none'">
      <ng-content select=".hm-loader">
      </ng-content>
    </div>
  </div>
</div>
